'use strict';
const _0x26e425 = _0xf591;
(function (_0x3f8efb, _0x39fdb5) {
    const _0x450ba1 = _0xf591, _0x1f5da5 = _0x3f8efb();
    while (!![]) {
        try {
            const _0x2fe5b3 = parseInt(_0x450ba1(0xf1)) / (-0x14ff + -0x2300 + 0x3800) * (-parseInt(_0x450ba1(0x150)) / (0x21eb * 0x1 + 0x19 * 0x14 + -0x1 * 0x23dd)) + parseInt(_0x450ba1(0x137)) / (0x651 + -0x661 + 0x13) * (parseInt(_0x450ba1(0xad)) / (0x85 * -0x31 + 0x1 * -0x174e + 0x30c7)) + -parseInt(_0x450ba1(0x127)) / (0x3 * -0x429 + -0x1c4 * 0xb + 0x1fec) * (parseInt(_0x450ba1(0x14b)) / (-0xd7e * 0x2 + -0x34a + 0x1e4c)) + -parseInt(_0x450ba1(0x12d)) / (-0xada + -0x973 * 0x3 + 0x273a) + parseInt(_0x450ba1(0xfd)) / (0x1286 + 0x19c + -0x141a) + parseInt(_0x450ba1(0x161)) / (-0x4cd * -0x5 + 0x1 * -0x1c89 + 0x7 * 0xa7) * (-parseInt(_0x450ba1(0xbe)) / (-0x2330 + -0x13d + 0x2477)) + parseInt(_0x450ba1(0x12c)) / (0x424 + -0x18d7 * 0x1 + 0x14be);
            if (_0x2fe5b3 === _0x39fdb5)
                break;
            else
                _0x1f5da5['push'](_0x1f5da5['shift']());
        } catch (_0x19eb8e) {
            _0x1f5da5['push'](_0x1f5da5['shift']());
        }
    }
}(_0xadeb, 0x31a2d * -0x1 + -0x1 * 0xecb81 + 0x198466));
function _0xf591(_0x475887, _0x318eaf) {
    const _0x463eea = _0xadeb();
    return _0xf591 = function (_0x5a79d3, _0x3fa061) {
        _0x5a79d3 = _0x5a79d3 - (0x1b32 + 0x968 + -0x1 * 0x23f1);
        let _0x304441 = _0x463eea[_0x5a79d3];
        return _0x304441;
    }, _0xf591(_0x475887, _0x318eaf);
}
function _0xadeb() {
    const _0x305c6b = [
        'chatgptOrg',
        'JBViB',
        'XRvRG',
        'IzdBw',
        'contactId',
        'LIoOE',
        'whatsapp',
        'dMessageSe',
        'IWCHM',
        'Jleby',
        'vgyzY',
        'FyxgB',
        'fEzXI',
        'CIYWs',
        'DCGjj',
        'mediaUrl',
        '/HandleMes',
        'eDJUJ',
        'uGAms',
        'include',
        'typebotRes',
        '../../help',
        'JMKCc',
        'DevVU',
        'dPBUF',
        'isCreated',
        'DlTwD',
        'bVuVS',
        'botRetries',
        'then',
        'XoJid',
        'typebotSta',
        'PgMhD',
        'chatgptOff',
        'pdateConta',
        'stepChatFl',
        'contact',
        'data',
        'rhbHH',
        '10NEawhf',
        'hFYtn',
        'bzBFf',
        'RkJDl',
        'mgtyS',
        '24731443FHrtmP',
        '5494223MUvlfg',
        's/pupaZPRO',
        'yTXUv',
        './VerifySt',
        'tZPRO',
        'ls/Message',
        'HbjQG',
        'bot',
        'jJQIj',
        'chatgptApi',
        '2130921MZkZLP',
        '../WbotBai',
        'quotedMsg',
        'ZmpLT',
        'Fdaal',
        'wTicketZPR',
        'baileys',
        'Eqath',
        'rviceZPRO',
        'chatFlow',
        'IvPhW',
        'split',
        'DelayField',
        'epsChatFlo',
        'axios',
        'BePTe',
        'fault',
        'kpPma',
        '__importDe',
        'create',
        '2667582LirzFo',
        'ticket',
        'leysServic',
        'chatFlowId',
        'VQtXw',
        '22dXlmvU',
        'ticket:upd',
        'MessageTyp',
        'vices/help',
        'xnwjn',
        'string',
        'FzsQo',
        '../WbotSer',
        ':\x20BuildSen',
        'nodeC',
        'JamhQ',
        'ls/Contact',
        '../TbotSer',
        'chatgptass',
        'ervices/Sh',
        'key',
        'pIvbY',
        '2565909Ccluii',
        'typebotOff',
        'logger',
        'obsJG',
        'tGptZPRO',
        '../Contact',
        'length',
        'tart',
        'MediaField',
        'value',
        'eld',
        'number',
        'time',
        'VstAW',
        'nTnYL',
        'Key',
        'ers/socket',
        'user',
        'next',
        'lastMessag',
        'IjTfX',
        'protocol',
        'TEHGG',
        'ZPRO',
        'defineProp',
        'typebotUrl',
        's/loggerZP',
        'mjBPi',
        'Udanr',
        'enBJe',
        'WcKEq',
        'PRO',
        'BhXSe',
        'firstCall',
        'TagField',
        'IVgfA',
        'kErIn',
        'findByPk',
        'erviceZPRO',
        'name',
        'owTicketSe',
        'ers/Handle',
        'vrmFx',
        'AQybw',
        'ChatGPTFie',
        'ebotZPRO',
        'ERR_CREATI',
        'chat:creat',
        'WebhookFie',
        'TypebotFie',
        'tenantId',
        'rEIZm',
        'type',
        'pupa',
        'where',
        'chatgptPro',
        'moueE',
        'sageChatGp',
        'aANcU',
        'body',
        'ls/TicketZ',
        'hWbKa',
        'update',
        'replace',
        '4tIudGQ',
        ':::\x20ZDG\x20::',
        'getTime',
        'ansfer',
        'message',
        'KanbanFiel',
        'EmitZPRO',
        'IxBWP',
        '../../util',
        'Contato\x20nÃ£',
        'apply',
        'SjvcE',
        'default',
        'fromMe',
        'AIhBo',
        'KExIq',
        'throw',
        '10osqHlQ',
        'istantId',
        'DnSSf',
        'model',
        ':::\x20Z-PRO\x20',
        'indexOf',
        'payload',
        'BqfYd',
        'answered',
        'telegram',
        'JBJJM',
        'channel',
        'VwpTM',
        'Services/U',
        'bCKNx',
        'zScZJ',
        'chat',
        'cyIyz',
        'info',
        'pending',
        'sageTypebo',
        'KKcES',
        'mediaType',
        'substr',
        'tus',
        'AJdLa',
        'IuYWX',
        'pPAND',
        'kanban',
        'mgcID',
        'rJGeG',
        'ctTagsBotS',
        'tag',
        'NG_MESSAGE',
        '__esModule',
        'toString',
        'PMgVK',
        'rvice',
        'email',
        'MessageCha',
        'mpt',
        'anizationI',
        '../TicketS',
        'EXzng',
        'typebotNam',
        'OpOiu',
        'assign',
        'chatflowTr',
        '../../mode',
        '_SYSTEM',
        'o\x20encontra',
        '58189wEDdHK',
        'get',
        'ChatFlowFi',
        'webhook',
        'chatgptSta',
        'erty',
        'es/helpers',
        'ate',
        '__awaiter',
        'done',
        'NUHoy',
        'GiBeM',
        '1120216zpOnEt',
        'uiLUm',
        'HmcKz'
    ];
    _0xadeb = function () {
        return _0x305c6b;
    };
    return _0xadeb();
}
var __awaiter = this && this[_0x26e425(0xf9)] || function (_0x456b75, _0x5326be, _0x3061d, _0x12aa0b) {
        const _0x13f434 = _0x26e425, _0x163f0a = {
                'DevVU': function (_0x1ac3e6, _0x32a7db) {
                    return _0x1ac3e6(_0x32a7db);
                },
                'DCGjj': function (_0x2df316, _0x1d0c0e) {
                    return _0x2df316 instanceof _0x1d0c0e;
                },
                'cyIyz': _0x13f434(0xbd),
                'Eqath': function (_0x351f9d, _0x27628c) {
                    return _0x351f9d(_0x27628c);
                },
                'zScZJ': function (_0x2f0610, _0x22ee26) {
                    return _0x2f0610(_0x22ee26);
                },
                'mjBPi': function (_0x188ebb, _0x35106b) {
                    return _0x188ebb(_0x35106b);
                }
            };
        function _0x317730(_0x178bc6) {
            const _0x290947 = _0x13f434;
            return _0x163f0a[_0x290947(0x10e)](_0x178bc6, _0x3061d) ? _0x178bc6 : new _0x3061d(function (_0x3520f1) {
                const _0x43db3f = _0x290947;
                _0x163f0a[_0x43db3f(0x117)](_0x3520f1, _0x178bc6);
            });
        }
        return new (_0x3061d || (_0x3061d = Promise))(function (_0x129d5f, _0x58cc70) {
            const _0x52ee53 = _0x13f434, _0x4ecf63 = {
                    'DnSSf': function (_0x5828d5, _0x3fc18e) {
                        const _0x4f5300 = _0xf591;
                        return _0x163f0a[_0x4f5300(0xcd)](_0x5828d5, _0x3fc18e);
                    },
                    'eDJUJ': function (_0x31154f, _0xc74ff8) {
                        const _0x2ada02 = _0xf591;
                        return _0x163f0a[_0x2ada02(0x17c)](_0x31154f, _0xc74ff8);
                    }
                };
            function _0x19535a(_0x1c4f0f) {
                const _0x3b51cc = _0xf591;
                try {
                    _0x163f0a[_0x3b51cc(0x117)](_0x127677, _0x12aa0b[_0x3b51cc(0x173)](_0x1c4f0f));
                } catch (_0x334e2e) {
                    _0x163f0a[_0x3b51cc(0x117)](_0x58cc70, _0x334e2e);
                }
            }
            function _0x2a7e71(_0x2ff114) {
                const _0x3c4e8 = _0xf591;
                try {
                    _0x163f0a[_0x3c4e8(0x117)](_0x127677, _0x12aa0b[_0x163f0a[_0x3c4e8(0xcf)]](_0x2ff114));
                } catch (_0x1626f4) {
                    _0x163f0a[_0x3c4e8(0x13e)](_0x58cc70, _0x1626f4);
                }
            }
            function _0x127677(_0x2417f9) {
                const _0xfb1d61 = _0xf591;
                _0x2417f9[_0xfb1d61(0xfa)] ? _0x4ecf63[_0xfb1d61(0xc0)](_0x129d5f, _0x2417f9[_0xfb1d61(0x16a)]) : _0x4ecf63[_0xfb1d61(0x111)](_0x317730, _0x2417f9[_0xfb1d61(0x16a)])[_0xfb1d61(0x11d)](_0x19535a, _0x2a7e71);
            }
            _0x163f0a[_0x52ee53(0x17c)](_0x127677, (_0x12aa0b = _0x12aa0b[_0x52ee53(0xb7)](_0x456b75, _0x5326be || []))[_0x52ee53(0x173)]());
        });
    }, __importDefault = this && this[_0x26e425(0x149) + _0x26e425(0x147)] || function (_0x1f8c99) {
        const _0x29b76b = _0x26e425;
        return _0x1f8c99 && _0x1f8c99[_0x29b76b(0xe0)] ? _0x1f8c99 : { 'default': _0x1f8c99 };
    };
const _0x136f3 = {};
_0x136f3[_0x26e425(0x16a)] = !![], Object[_0x26e425(0x179) + _0x26e425(0xf6)](exports, _0x26e425(0xe0), _0x136f3);
const pupaZPRO_1 = require(_0x26e425(0xb5) + _0x26e425(0x12e)), loggerZPRO_1 = require(_0x26e425(0xb5) + _0x26e425(0x17b) + 'RO'), TicketZPRO_1 = __importDefault(require(_0x26e425(0xee) + _0x26e425(0xa9) + _0x26e425(0x180))), MessageZPRO_1 = __importDefault(require(_0x26e425(0xee) + _0x26e425(0x132) + _0x26e425(0x178))), socketEmitZPRO_1 = __importDefault(require(_0x26e425(0x115) + _0x26e425(0x171) + _0x26e425(0xb3))), UpdateContactTagsBotServiceZPRO_1 = __importDefault(require(_0x26e425(0x166) + _0x26e425(0xcb) + _0x26e425(0x122) + _0x26e425(0xdd) + _0x26e425(0x187))), axios_1 = __importDefault(require(_0x26e425(0x145))), ShowTicketServiceZPRO_1 = __importDefault(require(_0x26e425(0xe8) + _0x26e425(0x15e) + _0x26e425(0x189) + _0x26e425(0x13f))), VerifyStepsChatFlowTicketZPRO_1 = __importDefault(require(_0x26e425(0x130) + _0x26e425(0x144) + _0x26e425(0x13c) + 'O')), HandleMessageTypebotZPRO_1 = __importDefault(require(_0x26e425(0x157) + _0x26e425(0x153) + _0x26e425(0x18a) + _0x26e425(0x152) + _0x26e425(0x18e))), HandleMessageChatGptZPRO_1 = __importDefault(require(_0x26e425(0x157) + _0x26e425(0x153) + _0x26e425(0x18a) + _0x26e425(0xe5) + _0x26e425(0x165))), ContactZPRO_1 = __importDefault(require(_0x26e425(0xee) + _0x26e425(0x15b) + _0x26e425(0x178))), HandleMessageTypebotZPRO_2 = __importDefault(require(_0x26e425(0x138) + _0x26e425(0x14d) + _0x26e425(0xf7) + _0x26e425(0x110) + _0x26e425(0xd2) + _0x26e425(0x131))), HandleMessageChatGptZPRO_2 = __importDefault(require(_0x26e425(0x138) + _0x26e425(0x14d) + _0x26e425(0xf7) + _0x26e425(0x110) + _0x26e425(0x19a) + _0x26e425(0x131))), HandleMessageTypebotZPRO_3 = __importDefault(require(_0x26e425(0x15c) + _0x26e425(0x153) + _0x26e425(0x18a) + _0x26e425(0x152) + _0x26e425(0x18e))), HandleMessageChatGptZPRO_3 = __importDefault(require(_0x26e425(0x15c) + _0x26e425(0x153) + _0x26e425(0x18a) + _0x26e425(0xe5) + _0x26e425(0x165))), BuildSendMessageService = ({
        wbot: _0x35a635,
        wbotMessage: _0x21faa0,
        msg: _0x210420,
        tenantId: _0xa6542d,
        ticket: _0x466e3b,
        userId: _0x25a15f
    }) => __awaiter(void (-0x13f5 + -0xf * 0x16 + 0x31 * 0x6f), void (-0x1 * -0x1526 + 0x18 * 0x14e + 0xa7e * -0x5), void (0x206c + 0x26a5 * 0x1 + -0x4711 * 0x1), function* () {
        const _0x36851d = _0x26e425, _0x33b580 = {
                'IzdBw': function (_0x2ab5e6, _0x50d404) {
                    return _0x2ab5e6(_0x50d404);
                },
                'dPBUF': function (_0x1fe590, _0x1f36bf, _0x329c1c, _0x1a4808, _0x174c2f) {
                    return _0x1fe590(_0x1f36bf, _0x329c1c, _0x1a4808, _0x174c2f);
                },
                'mgtyS': _0x36851d(0xce),
                'kErIn': _0x36851d(0x134),
                'nTnYL': _0x36851d(0xd1),
                'PMgVK': function (_0x5efccf, _0x58ec81) {
                    return _0x5efccf === _0x58ec81;
                },
                'fEzXI': _0x36851d(0x192) + 'ld',
                'aANcU': _0x36851d(0x151) + _0x36851d(0xf8),
                'IWCHM': _0x36851d(0x106),
                'AQybw': function (_0x43914a, _0x21e8cb) {
                    return _0x43914a === _0x21e8cb;
                },
                'rEIZm': _0x36851d(0x13d),
                'hWbKa': _0x36851d(0xc7),
                'enBJe': _0x36851d(0xc2) + _0x36851d(0xae) + _0x36851d(0x158) + _0x36851d(0x107) + _0x36851d(0xe3),
                'IjTfX': _0x36851d(0x18d) + 'ld',
                'BePTe': function (_0x227764, _0x3fd693) {
                    return _0x227764 === _0x3fd693;
                },
                'hFYtn': function (_0x581c28, _0x5ed047) {
                    return _0x581c28 === _0x5ed047;
                },
                'moueE': _0x36851d(0xf3) + _0x36851d(0x16b),
                'obsJG': _0x36851d(0x159),
                'KKcES': _0x36851d(0x191) + 'ld',
                'XRvRG': function (_0x242f8e, _0x5dff5e) {
                    return _0x242f8e === _0x5dff5e;
                },
                'Udanr': function (_0x45cddb, _0x3614a2) {
                    return _0x45cddb === _0x3614a2;
                },
                'vrmFx': function (_0x422934, _0x31f8d7) {
                    return _0x422934 === _0x31f8d7;
                },
                'AIhBo': function (_0x4a9b60, _0x3ed6a5) {
                    return _0x4a9b60 === _0x3ed6a5;
                },
                'VstAW': function (_0x1db344, _0x157055) {
                    return _0x1db344 === _0x157055;
                },
                'bzBFf': function (_0x54cd17, _0x10fab0) {
                    return _0x54cd17 === _0x10fab0;
                },
                'HbjQG': function (_0x23782b, _0x3ff383) {
                    return _0x23782b === _0x3ff383;
                },
                'KExIq': function (_0x7576a, _0x497f6c) {
                    return _0x7576a === _0x497f6c;
                },
                'Jleby': function (_0x5015c4, _0x59412c) {
                    return _0x5015c4 === _0x59412c;
                },
                'JMKCc': function (_0x136c09, _0x44616b) {
                    return _0x136c09 === _0x44616b;
                },
                'TEHGG': function (_0x26ce86, _0x30e9c5) {
                    return _0x26ce86 === _0x30e9c5;
                },
                'HmcKz': function (_0x5dddd9, _0x15f19c) {
                    return _0x5dddd9 === _0x15f19c;
                },
                'LIoOE': function (_0x1f7938, _0x19e46e) {
                    return _0x1f7938 === _0x19e46e;
                },
                'bVuVS': function (_0x5be10e, _0x24c1e1) {
                    return _0x5be10e === _0x24c1e1;
                },
                'EXzng': function (_0x10c566, _0x56c30c) {
                    return _0x10c566 === _0x56c30c;
                },
                'BhXSe': function (_0x2c8d95, _0x6a9299) {
                    return _0x2c8d95 === _0x6a9299;
                },
                'BqfYd': function (_0x5b22c9, _0x3a2e7d) {
                    return _0x5b22c9 === _0x3a2e7d;
                },
                'DlTwD': _0x36851d(0x155),
                'VQtXw': function (_0x438c9e, _0x4cf500) {
                    return _0x438c9e === _0x4cf500;
                },
                'ZmpLT': _0x36851d(0x183),
                'kpPma': function (_0x4b4f17, _0x301e9c) {
                    return _0x4b4f17 === _0x301e9c;
                },
                'xnwjn': _0x36851d(0xb2) + 'd',
                'IxBWP': function (_0x5e4988, _0x17a492) {
                    return _0x5e4988 === _0x17a492;
                },
                'Fdaal': _0x36851d(0xb6) + _0x36851d(0xf0) + 'do',
                'pPAND': _0x36851d(0x143),
                'uGAms': function (_0x5a6dd9, _0x2d24a1) {
                    return _0x5a6dd9 * _0x2d24a1;
                },
                'JBViB': function (_0x169a2e) {
                    return _0x169a2e();
                },
                'SjvcE': _0x36851d(0x169),
                'rhbHH': function (_0x53f44c, _0x3db5a9) {
                    return _0x53f44c - _0x3db5a9;
                },
                'WcKEq': _0x36851d(0x14c),
                'FyxgB': _0x36851d(0x124),
                'JamhQ': _0x36851d(0x139),
                'rJGeG': _0x36851d(0x18f) + _0x36851d(0xdf) + _0x36851d(0xef),
                'JBJJM': _0x36851d(0x190) + 'e',
                'jJQIj': function (_0x577d47, _0xa575a0) {
                    return _0x577d47 !== _0xa575a0;
                },
                'pIvbY': function (_0x15f1b7, _0x12825b) {
                    return _0x15f1b7 !== _0x12825b;
                },
                'GiBeM': function (_0x1efcc3, _0x540ef0) {
                    return _0x1efcc3 !== _0x540ef0;
                },
                'mgcID': function (_0xe1551, _0x6a66f7) {
                    return _0xe1551 !== _0x6a66f7;
                },
                'yTXUv': function (_0x2b462c, _0x16c353) {
                    return _0x2b462c !== _0x16c353;
                },
                'FzsQo': function (_0x22c16f, _0x548b31) {
                    return _0x22c16f !== _0x548b31;
                },
                'NUHoy': function (_0x520fe9, _0x59b71b) {
                    return _0x520fe9 === _0x59b71b;
                },
                'OpOiu': function (_0xce7b13, _0x224e2d) {
                    return _0xce7b13 === _0x224e2d;
                },
                'RkJDl': function (_0xcea2be, _0x49707f) {
                    return _0xcea2be === _0x49707f;
                },
                'vgyzY': function (_0x132ec8, _0x37a018) {
                    return _0x132ec8 === _0x37a018;
                },
                'VwpTM': function (_0x2d8d0e, _0x229ae3) {
                    return _0x2d8d0e === _0x229ae3;
                },
                'AJdLa': function (_0x12342a, _0x59c973) {
                    return _0x12342a === _0x59c973;
                },
                'bCKNx': function (_0x141254, _0x14f834) {
                    return _0x141254 === _0x14f834;
                },
                'IuYWX': function (_0x57a13b, _0x128cfa) {
                    return _0x57a13b === _0x128cfa;
                },
                'IvPhW': function (_0x2704d0, _0x56b055) {
                    return _0x2704d0 === _0x56b055;
                },
                'CIYWs': function (_0x5cfe48, _0x417401) {
                    return _0x5cfe48 === _0x417401;
                },
                'IVgfA': function (_0x4be6b6, _0x27f02f) {
                    return _0x4be6b6 === _0x27f02f;
                },
                'XoJid': function (_0x1ac6e5, _0x193488) {
                    return _0x1ac6e5 === _0x193488;
                },
                'PgMhD': function (_0x472c55, _0x1851a6) {
                    return _0x472c55 === _0x1851a6;
                },
                'uiLUm': function (_0x376389, _0x338b2c) {
                    return _0x376389 === _0x338b2c;
                }
            };
        var _0x3bebcf, _0x272162, _0x2035b9, _0x3f6977, _0x5260e9, _0x4126ca, _0x10ab17, _0x5c5f6e, _0x34a533, _0x5c3975, _0x5b1f59, _0x2e42a8, _0x1cf7c8;
        const _0x278221 = {
            'ticketId': _0x466e3b['id'],
            'body': '',
            'contactId': _0x466e3b[_0x36851d(0x104)],
            'fromMe': !![],
            'read': !![],
            'mediaType': _0x33b580[_0x36851d(0x12b)],
            'mediaUrl': undefined,
            'timestamp': new Date()[_0x36851d(0xaf)](),
            'quotedMsgId': undefined,
            'userId': _0x25a15f,
            'scheduleDate': undefined,
            'sendType': _0x33b580[_0x36851d(0x185)],
            'status': _0x33b580[_0x36851d(0x16f)],
            'tenantId': _0xa6542d
        };
        try {
            if (_0x33b580[_0x36851d(0xe2)](_0x210420[_0x36851d(0x195)], _0x33b580[_0x36851d(0x10c)]) && _0x210420[_0x36851d(0x125)][_0x36851d(0x17a)])
                try {
                    const _0x244b85 = {};
                    _0x244b85[_0x36851d(0x17a)] = _0x210420[_0x36851d(0x125)][_0x36851d(0x17a)], _0x244b85[_0x36851d(0xea) + 'e'] = _0x210420[_0x36851d(0x125)][_0x36851d(0xea) + 'e'], _0x244b85[_0x36851d(0x162)] = _0x210420[_0x36851d(0x125)][_0x36851d(0x162)], _0x244b85[_0x36851d(0x114) + _0x36851d(0x168)] = _0x210420[_0x36851d(0x125)][_0x36851d(0x114) + _0x36851d(0x168)], _0x244b85[_0x36851d(0x11f) + _0x36851d(0xd6)] = !![], _0x244b85[_0x36851d(0x14e)] = null, _0x244b85[_0x36851d(0x123) + 'ow'] = null, yield _0x466e3b[_0x36851d(0xab)](_0x244b85);
                    const _0x441398 = {};
                    _0x441398['id'] = _0x466e3b['id'], _0x441398[_0x36851d(0x193)] = _0x466e3b[_0x36851d(0x193)];
                    const _0x360b88 = yield (0x1 * -0x2109 + 0x357 + -0x4f3 * -0x6, ShowTicketServiceZPRO_1[_0x36851d(0xb9)])(_0x441398), _0x58a786 = {};
                    _0x58a786[_0x36851d(0x193)] = _0x466e3b[_0x36851d(0x193)], _0x58a786[_0x36851d(0x195)] = _0x33b580[_0x36851d(0x19b)], _0x58a786[_0x36851d(0xc4)] = _0x360b88, (0x3f * -0x98 + 0x1ca5 + -0x8c3 * -0x1, socketEmitZPRO_1[_0x36851d(0xb9)])(_0x58a786);
                    if (!_0x35a635)
                        return;
                    _0x33b580[_0x36851d(0xe2)](_0x466e3b[_0x36851d(0xc9)], _0x33b580[_0x36851d(0x108)]) && (yield (-0xda4 + 0xd * 0x1f5 + -0x3 * 0x3ef, HandleMessageTypebotZPRO_1[_0x36851d(0xb9)])(_0x35a635, _0x21faa0, _0x360b88)), _0x33b580[_0x36851d(0x18c)](_0x466e3b[_0x36851d(0xc9)], _0x33b580[_0x36851d(0x194)]) && (yield (-0xf * -0x130 + -0x3b7 * -0x1 + -0x1587, HandleMessageTypebotZPRO_2[_0x36851d(0xb9)])(_0x35a635, _0x21faa0, _0x360b88)), _0x33b580[_0x36851d(0x18c)](_0x466e3b[_0x36851d(0xc9)], _0x33b580[_0x36851d(0xaa)]) && (yield (0x1a * 0x20 + -0x24e3 + -0x1 * -0x21a3, HandleMessageTypebotZPRO_3[_0x36851d(0xb9)])(_0x35a635, _0x21faa0, _0x360b88));
                } catch (_0x471d1a) {
                    loggerZPRO_1[_0x36851d(0x163)][_0x36851d(0xd0)](_0x33b580[_0x36851d(0x17e)], _0x471d1a);
                }
            if (_0x33b580[_0x36851d(0x18c)](_0x210420[_0x36851d(0x195)], _0x33b580[_0x36851d(0x175)]) && _0x210420[_0x36851d(0x125)][_0x36851d(0x136) + _0x36851d(0x170)])
                try {
                    const _0x2bdb9b = {};
                    _0x2bdb9b[_0x36851d(0x198) + _0x36851d(0xe6)] = _0x210420[_0x36851d(0x125)][_0x36851d(0x198) + _0x36851d(0xe6)] || null, _0x2bdb9b[_0x36851d(0x15d) + _0x36851d(0xbf)] = _0x210420[_0x36851d(0x125)][_0x36851d(0x15d) + _0x36851d(0xbf)] || null, _0x2bdb9b[_0x36851d(0x136) + _0x36851d(0x170)] = _0x210420[_0x36851d(0x125)][_0x36851d(0x136) + _0x36851d(0x170)], _0x2bdb9b[_0x36851d(0x100) + _0x36851d(0xe7) + 'd'] = _0x210420[_0x36851d(0x125)][_0x36851d(0x100) + 'Id'], _0x2bdb9b[_0x36851d(0x121)] = _0x210420[_0x36851d(0x125)][_0x36851d(0x121)], _0x2bdb9b[_0x36851d(0xf5) + _0x36851d(0xd6)] = !![], _0x2bdb9b[_0x36851d(0x14e)] = null, _0x2bdb9b[_0x36851d(0x123) + 'ow'] = null, yield _0x466e3b[_0x36851d(0xab)](_0x2bdb9b);
                    const _0x39ee10 = {};
                    _0x39ee10['id'] = _0x466e3b['id'], _0x39ee10[_0x36851d(0x193)] = _0x466e3b[_0x36851d(0x193)];
                    const _0x4c852d = yield (0x14b3 + 0xd87 * -0x1 + -0x72c, ShowTicketServiceZPRO_1[_0x36851d(0xb9)])(_0x39ee10), _0x5394d8 = {};
                    _0x5394d8[_0x36851d(0x193)] = _0x466e3b[_0x36851d(0x193)], _0x5394d8[_0x36851d(0x195)] = _0x33b580[_0x36851d(0x19b)], _0x5394d8[_0x36851d(0xc4)] = _0x4c852d, (-0xbbe + -0x1868 + -0x52a * -0x7, socketEmitZPRO_1[_0x36851d(0xb9)])(_0x5394d8);
                    if (!_0x35a635)
                        return;
                    _0x33b580[_0x36851d(0xe2)](_0x466e3b[_0x36851d(0xc9)], _0x33b580[_0x36851d(0x108)]) && (yield (-0x1460 + 0x102d * -0x1 + -0x1 * -0x248d, HandleMessageChatGptZPRO_1[_0x36851d(0xb9)])(_0x35a635, _0x21faa0, _0x4c852d)), _0x33b580[_0x36851d(0x146)](_0x466e3b[_0x36851d(0xc9)], _0x33b580[_0x36851d(0x194)]) && (yield (0x187b + -0x36 * -0x37 + -0x2415, HandleMessageChatGptZPRO_2[_0x36851d(0xb9)])(_0x35a635, _0x21faa0, _0x4c852d)), _0x33b580[_0x36851d(0x128)](_0x466e3b[_0x36851d(0xc9)], _0x33b580[_0x36851d(0xaa)]) && (yield (-0x169e + -0x21e6 + -0xe21 * -0x4, HandleMessageChatGptZPRO_3[_0x36851d(0xb9)])(_0x35a635, _0x21faa0, _0x4c852d));
                } catch (_0x4914d2) {
                    loggerZPRO_1[_0x36851d(0x163)][_0x36851d(0xd0)](_0x33b580[_0x36851d(0x17e)], _0x4914d2);
                }
            if (_0x33b580[_0x36851d(0xe2)](_0x210420[_0x36851d(0x195)], _0x33b580[_0x36851d(0x199)]) && _0x210420[_0x36851d(0x125)][_0x36851d(0x140)])
                try {
                    const _0x47a6a5 = {};
                    _0x47a6a5[_0x36851d(0x14e)] = _0x210420[_0x36851d(0x125)][_0x36851d(0x140)], _0x47a6a5[_0x36851d(0x123) + 'ow'] = _0x33b580[_0x36851d(0x164)], _0x47a6a5[_0x36851d(0xc6)] = ![], _0x47a6a5[_0x36851d(0x182)] = !![], _0x47a6a5[_0x36851d(0x11c)] = 0x0, _0x47a6a5[_0x36851d(0xed) + _0x36851d(0xb0)] = !![], _0x47a6a5[_0x36851d(0x119)] = !![], yield _0x466e3b[_0x36851d(0xab)](_0x47a6a5);
                    const _0x500174 = {};
                    _0x500174['id'] = _0x466e3b['id'], _0x500174[_0x36851d(0x193)] = _0x466e3b[_0x36851d(0x193)];
                    const _0x9e915d = yield (-0x94a + 0x1ccd + 0x681 * -0x3, ShowTicketServiceZPRO_1[_0x36851d(0xb9)])(_0x500174), _0x504d55 = {};
                    _0x504d55[_0x36851d(0x193)] = _0x466e3b[_0x36851d(0x193)], _0x504d55[_0x36851d(0x195)] = _0x33b580[_0x36851d(0x19b)], _0x504d55[_0x36851d(0xc4)] = _0x9e915d, (-0x1180 + 0x15 * 0xf9 + -0x6b * 0x7, socketEmitZPRO_1[_0x36851d(0xb9)])(_0x504d55);
                    const _0x4839d0 = {};
                    _0x4839d0[_0x36851d(0xba)] = ![];
                    const _0x34526f = {};
                    _0x34526f[_0x36851d(0x19c)] = _0x466e3b[_0x36851d(0x174) + 'e'], _0x34526f[_0x36851d(0xba)] = ![], _0x34526f[_0x36851d(0x15f)] = _0x4839d0;
                    const _0x15943a = _0x34526f;
                    if (!_0x35a635)
                        return;
                    yield (0x5 * 0x623 + 0x1746 + -0x35f5, VerifyStepsChatFlowTicketZPRO_1[_0x36851d(0xb9)])(_0x35a635, _0x15943a, _0x466e3b);
                } catch (_0x24bb8d) {
                    loggerZPRO_1[_0x36851d(0x163)][_0x36851d(0xd0)](_0x33b580[_0x36851d(0x17e)], _0x24bb8d);
                }
            if (_0x33b580[_0x36851d(0x18c)](_0x210420[_0x36851d(0x195)], _0x33b580[_0x36851d(0xd3)]) && _0x210420[_0x36851d(0x125)][_0x36851d(0xf4)]) {
                if (_0x33b580[_0x36851d(0x102)](_0x210420[_0x36851d(0x125)][_0x36851d(0xf4)], ''))
                    return;
                try {
                    _0x210420[_0x36851d(0x125)][_0x36851d(0xf4)] = (0x1d15 + 0x22c9 + -0x3fde, pupaZPRO_1[_0x36851d(0x196)])(_0x210420[_0x36851d(0x125)][_0x36851d(0xf4)] || '', {
                        'protocol': (_0x33b580[_0x36851d(0x17d)](_0x466e3b, null) || _0x33b580[_0x36851d(0x18b)](_0x466e3b, void (-0x5 * 0x1bd + -0x3 * -0x928 + -0x1b5 * 0xb)) ? void (-0x133 + 0x3b6 * 0x1 + -0x283) : _0x466e3b[_0x36851d(0x176)]) || '',
                        'name': (_0x33b580[_0x36851d(0xbb)](_0x3bebcf = _0x33b580[_0x36851d(0x16e)](_0x466e3b, null) || _0x33b580[_0x36851d(0x128)](_0x466e3b, void (-0x6e2 * -0x4 + -0x4b + -0x1b3d * 0x1)) ? void (-0x182 * -0x17 + -0x14d * 0x1d + -0x29 * -0x13) : _0x466e3b[_0x36851d(0x124)], null) || _0x33b580[_0x36851d(0x128)](_0x3bebcf, void (-0x1 * -0x1553 + 0x1 * -0x1e47 + 0x8f4)) ? void (-0x2ef + -0x1203 * 0x1 + 0x14f2) : _0x3bebcf[_0x36851d(0x188)][_0x36851d(0xac)](/[^a-zA-Z0-9\u00C0-\u00FF]+/g, '')) || '',
                        'email': (_0x33b580[_0x36851d(0xbb)](_0x272162 = _0x33b580[_0x36851d(0x129)](_0x466e3b, null) || _0x33b580[_0x36851d(0x133)](_0x466e3b, void (0xc67 + -0x1811 + 0xbaa)) ? void (0x4 * -0x218 + -0x160f * 0x1 + 0x7 * 0x459) : _0x466e3b[_0x36851d(0x124)], null) || _0x33b580[_0x36851d(0x18b)](_0x272162, void (-0x1e92 + -0xea9 * -0x2 + -0x8 * -0x28)) ? void (0x4 * 0x6be + -0x2b * -0x29 + -0x21db) : _0x272162[_0x36851d(0xe4)]) || '',
                        'phoneNumber': (_0x33b580[_0x36851d(0xbc)](_0x2035b9 = _0x33b580[_0x36851d(0xbb)](_0x466e3b, null) || _0x33b580[_0x36851d(0x109)](_0x466e3b, void (0x1a55 + 0xf80 + -0x29d5)) ? void (0x92 * 0x1 + 0x1 * 0x1949 + 0x19db * -0x1) : _0x466e3b[_0x36851d(0x124)], null) || _0x33b580[_0x36851d(0x116)](_0x2035b9, void (0x261e + -0x2199 + -0x59 * 0xd)) ? void (-0x4a4 + 0x125 * -0xb + 0x113b) : _0x2035b9[_0x36851d(0x16c)]) || '',
                        'kanban': (_0x33b580[_0x36851d(0x177)](_0x3f6977 = _0x33b580[_0x36851d(0xff)](_0x466e3b, null) || _0x33b580[_0x36851d(0x133)](_0x466e3b, void (0x77b + 0x2 * 0xd0e + -0x2197)) ? void (0x2b2 + -0x2 * -0x10a6 + -0x23fe) : _0x466e3b[_0x36851d(0x124)], null) || _0x33b580[_0x36851d(0x17d)](_0x3f6977, void (-0x586 + 0xe7 + 0x49f)) ? void (0x33b * 0xa + -0xe5 * 0x16 + 0x65 * -0x20) : _0x3f6977[_0x36851d(0xda)]) || '',
                        'user': (_0x33b580[_0x36851d(0x146)](_0x5260e9 = _0x33b580[_0x36851d(0x105)](_0x466e3b, null) || _0x33b580[_0x36851d(0x133)](_0x466e3b, void (0x2e * 0x15 + -0x2404 + 0x203e)) ? void (0x263f + 0x38a * 0x2 + -0x1 * 0x2d53) : _0x466e3b[_0x36851d(0x172)], null) || _0x33b580[_0x36851d(0x11b)](_0x5260e9, void (-0x2 * -0xd8b + 0xec1 + -0x1 * 0x29d7)) ? void (0x1e46 + -0x1d6e + 0x9 * -0x18) : _0x5260e9[_0x36851d(0x188)]) || '',
                        'userEmail': (_0x33b580[_0x36851d(0x105)](_0x4126ca = _0x33b580[_0x36851d(0xe9)](_0x466e3b, null) || _0x33b580[_0x36851d(0x181)](_0x466e3b, void (0x15 + -0x22 * 0x125 + -0x26d5 * -0x1)) ? void (-0x2 * -0x106c + 0x16 * -0x40 + 0x7d * -0x38) : _0x466e3b[_0x36851d(0x172)], null) || _0x33b580[_0x36851d(0xc5)](_0x4126ca, void (-0x11 * 0xd + -0xe1d * -0x1 + 0x6a * -0x20)) ? void (0x102a + 0x1a2f * 0x1 + -0x1 * 0x2a59) : _0x4126ca[_0x36851d(0xe4)]) || ''
                    }), _0x33b580[_0x36851d(0x18b)](typeof _0x210420[_0x36851d(0x125)][_0x36851d(0xf4)], _0x33b580[_0x36851d(0x11a)]) && (yield axios_1[_0x36851d(0xb9)][_0x36851d(0xf2)](_0x210420[_0x36851d(0x125)][_0x36851d(0xf4)]));
                } catch (_0xb37217) {
                    loggerZPRO_1[_0x36851d(0x163)][_0x36851d(0xd0)](_0x33b580[_0x36851d(0x17e)], _0xb37217);
                }
            }
            if (_0x33b580[_0x36851d(0x14f)](_0x210420[_0x36851d(0x195)], _0x33b580[_0x36851d(0x13a)]) && _0x210420[_0x36851d(0x125)][_0x36851d(0xde)]) {
                if (_0x33b580[_0x36851d(0x181)](_0x210420[_0x36851d(0x125)][_0x36851d(0xde)], null))
                    return;
                yield (-0x25 * -0xed + 0xd7 * 0xa + -0x2aa7, UpdateContactTagsBotServiceZPRO_1[_0x36851d(0xb9)])({
                    'tagId': _0x210420[_0x36851d(0x125)][_0x36851d(0xde)],
                    'contactId': _0x466e3b[_0x36851d(0x104)][_0x36851d(0xe1)](),
                    'tenantId': _0xa6542d
                });
            }
            if (_0x33b580[_0x36851d(0x148)](_0x210420[_0x36851d(0x195)], _0x33b580[_0x36851d(0x154)]) && _0x210420[_0x36851d(0x125)][_0x36851d(0xda)]) {
                if (_0x33b580[_0x36851d(0xb4)](_0x210420[_0x36851d(0x125)][_0x36851d(0xde)], null))
                    return;
                const _0x1fc1f7 = yield ContactZPRO_1[_0x36851d(0xb9)][_0x36851d(0x186)](_0x466e3b[_0x36851d(0x104)]);
                if (!_0x1fc1f7)
                    throw new Error(_0x33b580[_0x36851d(0x13b)]);
                const _0x144937 = {};
                _0x144937[_0x36851d(0xda)] = _0x210420[_0x36851d(0x125)][_0x36851d(0xda)], yield _0x1fc1f7[_0x36851d(0xab)](_0x144937);
            }
            if (_0x33b580[_0x36851d(0x148)](_0x210420[_0x36851d(0x195)], _0x33b580[_0x36851d(0xd9)]) && _0x210420[_0x36851d(0x125)][_0x36851d(0x16d)]) {
                const _0x343b0f = _0x464a24 => new Promise(_0x24ac79 => setTimeout(_0x24ac79, _0x464a24)), _0x568d61 = _0x33b580[_0x36851d(0x112)](_0x210420[_0x36851d(0x125)][_0x36851d(0x16d)], 0xc0e + -0x103e + 0x8 * 0x103);
                function _0x341faf() {
                    const _0x34c5a5 = _0x36851d;
                    return _0x33b580[_0x34c5a5(0x118)](__awaiter, this, void (-0x3c6 * 0x4 + -0x1 * 0x26d2 + 0x35ea), void (-0x1d63 * -0x1 + 0x3b * 0x5b + -0x325c), function* () {
                        const _0x5009b2 = _0x34c5a5;
                        yield _0x33b580[_0x5009b2(0x103)](_0x343b0f, _0x568d61);
                    });
                }
                yield _0x33b580[_0x36851d(0x101)](_0x341faf);
            }
            if (_0x33b580[_0x36851d(0x16e)](_0x210420[_0x36851d(0x195)], _0x33b580[_0x36851d(0xb8)]) && _0x210420[_0x36851d(0x125)][_0x36851d(0x10f)]) {
                const _0x1dbec = _0x210420[_0x36851d(0x125)][_0x36851d(0x10f)][_0x36851d(0x142)]('/'), _0x4a2a41 = Object[_0x36851d(0xec)](Object[_0x36851d(0xec)]({}, _0x278221), {
                        'body': _0x210420[_0x36851d(0x125)][_0x36851d(0x188)],
                        'mediaUrl': _0x1dbec[_0x33b580[_0x36851d(0x126)](_0x1dbec[_0x36851d(0x167)], -0x2161 + -0x7 * 0x1c1 + -0x2da9 * -0x1)],
                        'mediaType': _0x210420[_0x36851d(0x125)][_0x36851d(0x195)] ? _0x33b580[_0x36851d(0xff)](_0x10ab17 = _0x210420[_0x36851d(0x125)], null) || _0x33b580[_0x36851d(0xe9)](_0x10ab17, void (0x1bed + -0x1aa2 * 0x1 + 0x14b * -0x1)) ? void (0x21 * -0xab + -0x3a * -0x3d + 0x839) : _0x10ab17[_0x36851d(0x195)][_0x36851d(0xd5)](0x312 + -0x29a * -0x3 + -0xae0, _0x210420[_0x36851d(0x125)][_0x36851d(0x195)][_0x36851d(0xc3)]('/')) : _0x33b580[_0x36851d(0x12b)]
                    }), _0x3e2473 = yield MessageZPRO_1[_0x36851d(0xb9)][_0x36851d(0x14a)](_0x4a2a41), _0x493d1f = {};
                _0x493d1f[_0x36851d(0x193)] = _0xa6542d;
                const _0xdee1db = {};
                _0xdee1db[_0x36851d(0xc1)] = TicketZPRO_1[_0x36851d(0xb9)], _0xdee1db['as'] = _0x33b580[_0x36851d(0x17f)], _0xdee1db[_0x36851d(0x197)] = _0x493d1f, _0xdee1db[_0x36851d(0x113)] = [_0x33b580[_0x36851d(0x10b)]];
                const _0x4dd281 = yield MessageZPRO_1[_0x36851d(0xb9)][_0x36851d(0x186)](_0x3e2473['id'], {
                    'include': [
                        _0xdee1db,
                        {
                            'model': MessageZPRO_1[_0x36851d(0xb9)],
                            'as': _0x33b580[_0x36851d(0x15a)],
                            'include': [_0x33b580[_0x36851d(0x10b)]]
                        }
                    ]
                });
                if (!_0x4dd281)
                    throw new Error(_0x33b580[_0x36851d(0xdc)]);
                yield _0x466e3b[_0x36851d(0xab)]({
                    'lastMessage': _0x4dd281[_0x36851d(0x19c)],
                    'lastMessageAt': new Date()[_0x36851d(0xaf)]()
                });
                const _0x3299c5 = {};
                _0x3299c5[_0x36851d(0x193)] = _0xa6542d, _0x3299c5[_0x36851d(0x195)] = _0x33b580[_0x36851d(0xc8)], _0x3299c5[_0x36851d(0xc4)] = _0x4dd281, (-0x4c * -0xc + -0x20 * 0x1b + 0x6 * -0x8, socketEmitZPRO_1[_0x36851d(0xb9)])(_0x3299c5);
            } else {
                if (_0x33b580[_0x36851d(0x135)](_0x210420[_0x36851d(0x195)], _0x33b580[_0x36851d(0xd9)]) && _0x33b580[_0x36851d(0x160)](_0x210420[_0x36851d(0x195)], _0x33b580[_0x36851d(0xb8)]) && _0x33b580[_0x36851d(0xfc)](_0x210420[_0x36851d(0x195)], _0x33b580[_0x36851d(0x13a)]) && _0x33b580[_0x36851d(0x160)](_0x210420[_0x36851d(0x195)], _0x33b580[_0x36851d(0xd3)]) && _0x33b580[_0x36851d(0x135)](_0x210420[_0x36851d(0x195)], _0x33b580[_0x36851d(0x199)]) && _0x33b580[_0x36851d(0xdb)](_0x210420[_0x36851d(0x195)], _0x33b580[_0x36851d(0x10c)]) && _0x33b580[_0x36851d(0x12f)](_0x210420[_0x36851d(0x195)], _0x33b580[_0x36851d(0x154)]) && _0x33b580[_0x36851d(0x156)](_0x210420[_0x36851d(0x195)], _0x33b580[_0x36851d(0x175)])) {
                    _0x210420[_0x36851d(0x125)][_0x36851d(0xb1)] = (0x15 * -0x191 + 0x5 * -0x2f7 + 0x2fb8, pupaZPRO_1[_0x36851d(0x196)])(_0x210420[_0x36851d(0x125)][_0x36851d(0xb1)] || '', {
                        'protocol': (_0x33b580[_0x36851d(0xc5)](_0x466e3b, null) || _0x33b580[_0x36851d(0x133)](_0x466e3b, void (0x169 * 0x13 + 0x15bf + 0x13 * -0x28e)) ? void (0x53 * 0x2e + 0x1cf0 + -0x2bda) : _0x466e3b[_0x36851d(0x176)]) || '',
                        'name': (_0x33b580[_0x36851d(0xfb)](_0x5c5f6e = _0x33b580[_0x36851d(0xbb)](_0x466e3b, null) || _0x33b580[_0x36851d(0xeb)](_0x466e3b, void (0x4f * -0x7c + 0xac4 + 0x6e * 0x40)) ? void (-0x17f6 + -0x1edf + -0x3 * -0x1247) : _0x466e3b[_0x36851d(0x124)], null) || _0x33b580[_0x36851d(0x146)](_0x5c5f6e, void (0x1e6e + 0x7f2 + -0x266 * 0x10)) ? void (0x1 * 0xc11 + 0x7 * 0x47d + 0x2b7c * -0x1) : _0x5c5f6e[_0x36851d(0x188)]) || '',
                        'email': (_0x33b580[_0x36851d(0x12a)](_0x34a533 = _0x33b580[_0x36851d(0xeb)](_0x466e3b, null) || _0x33b580[_0x36851d(0x14f)](_0x466e3b, void (0x11c3 + -0x1b16 + -0xb * -0xd9)) ? void (-0x1807 + -0x4dd + 0x1ce4) : _0x466e3b[_0x36851d(0x124)], null) || _0x33b580[_0x36851d(0x11b)](_0x34a533, void (0x3 * 0x5d1 + 0x74b * -0x3 + 0x1 * 0x46e)) ? void (-0x13 * -0xd7 + 0x21fd + -0x6 * 0x853) : _0x34a533[_0x36851d(0xe4)]) || '',
                        'phoneNumber': (_0x33b580[_0x36851d(0xbc)](_0x5c3975 = _0x33b580[_0x36851d(0x10a)](_0x466e3b, null) || _0x33b580[_0x36851d(0xca)](_0x466e3b, void (-0x1ae * 0x1 + -0x25eb + 0x2799)) ? void (0x7e5 * -0x2 + 0x592 + 0x1b4 * 0x6) : _0x466e3b[_0x36851d(0x124)], null) || _0x33b580[_0x36851d(0x18c)](_0x5c3975, void (-0x64d + 0x71 * -0x2b + 0x652 * 0x4)) ? void (0x2 * -0xcf7 + -0x4 * 0x1f4 + 0x21be) : _0x5c3975[_0x36851d(0x16c)]) || '',
                        'kanban': (_0x33b580[_0x36851d(0xd7)](_0x5b1f59 = _0x33b580[_0x36851d(0xcc)](_0x466e3b, null) || _0x33b580[_0x36851d(0xb4)](_0x466e3b, void (0xb16 * 0x1 + -0x64 * -0x16 + -0x13ae)) ? void (0x192d * 0x1 + 0x87d * 0x4 + 0x1 * -0x3b21) : _0x466e3b[_0x36851d(0x124)], null) || _0x33b580[_0x36851d(0xd8)](_0x5b1f59, void (-0x6e6 + 0x4de + 0x208)) ? void (-0x2ba * -0x8 + 0x1824 + -0x1 * 0x2df4) : _0x5b1f59[_0x36851d(0xda)]) || '',
                        'user': (_0x33b580[_0x36851d(0x141)](_0x2e42a8 = _0x33b580[_0x36851d(0x10d)](_0x466e3b, null) || _0x33b580[_0x36851d(0x184)](_0x466e3b, void (0x18d8 + -0xf64 + -0x974)) ? void (-0x23 * -0x3c + -0x99 * 0x33 + 0x1647) : _0x466e3b[_0x36851d(0x172)], null) || _0x33b580[_0x36851d(0x11e)](_0x2e42a8, void (0x300 * -0x7 + 0x7d + 0x59 * 0x3b)) ? void (-0x18a6 + -0x10d1 + -0x2977 * -0x1) : _0x2e42a8[_0x36851d(0x188)]) || '',
                        'userEmail': (_0x33b580[_0x36851d(0x120)](_0x1cf7c8 = _0x33b580[_0x36851d(0xfe)](_0x466e3b, null) || _0x33b580[_0x36851d(0xcc)](_0x466e3b, void (0x1bdc + -0x16e2 + 0x1 * -0x4fa)) ? void (-0x993 * -0x1 + -0x1be * -0x13 + -0x1 * 0x2aad) : _0x466e3b[_0x36851d(0x172)], null) || _0x33b580[_0x36851d(0xb4)](_0x1cf7c8, void (0x8 * -0x142 + 0x1fc4 + -0x15b4)) ? void (-0x523 * 0x1 + -0x61 * 0x4 + 0x6a7) : _0x1cf7c8[_0x36851d(0xe4)]) || ''
                    });
                    const _0x4ab942 = {};
                    _0x4ab942[_0x36851d(0x19c)] = _0x210420[_0x36851d(0x125)][_0x36851d(0xb1)], _0x4ab942[_0x36851d(0xd4)] = _0x33b580[_0x36851d(0x12b)];
                    const _0x359622 = yield MessageZPRO_1[_0x36851d(0xb9)][_0x36851d(0x14a)](Object[_0x36851d(0xec)](Object[_0x36851d(0xec)]({}, _0x278221), _0x4ab942)), _0x4fbc86 = {};
                    _0x4fbc86[_0x36851d(0x193)] = _0xa6542d;
                    const _0x4d5487 = {};
                    _0x4d5487[_0x36851d(0xc1)] = TicketZPRO_1[_0x36851d(0xb9)], _0x4d5487['as'] = _0x33b580[_0x36851d(0x17f)], _0x4d5487[_0x36851d(0x197)] = _0x4fbc86, _0x4d5487[_0x36851d(0x113)] = [_0x33b580[_0x36851d(0x10b)]];
                    const _0x31e41a = yield MessageZPRO_1[_0x36851d(0xb9)][_0x36851d(0x186)](_0x359622['id'], {
                        'include': [
                            _0x4d5487,
                            {
                                'model': MessageZPRO_1[_0x36851d(0xb9)],
                                'as': _0x33b580[_0x36851d(0x15a)],
                                'include': [_0x33b580[_0x36851d(0x10b)]]
                            }
                        ]
                    });
                    if (!_0x31e41a)
                        throw new Error(_0x33b580[_0x36851d(0xdc)]);
                    yield _0x466e3b[_0x36851d(0xab)]({
                        'lastMessage': _0x31e41a[_0x36851d(0x19c)],
                        'lastMessageAt': new Date()[_0x36851d(0xaf)](),
                        'answered': !![]
                    });
                    const _0x427e0e = {};
                    _0x427e0e[_0x36851d(0x193)] = _0xa6542d, _0x427e0e[_0x36851d(0x195)] = _0x33b580[_0x36851d(0xc8)], _0x427e0e[_0x36851d(0xc4)] = _0x31e41a, (-0x5fc + 0x13a7 + -0xdab, socketEmitZPRO_1[_0x36851d(0xb9)])(_0x427e0e);
                }
            }
        } catch (_0x36e3d7) {
            loggerZPRO_1[_0x36851d(0x163)][_0x36851d(0xd0)](_0x33b580[_0x36851d(0x17e)], _0x36e3d7);
        }
    });
exports[_0x26e425(0xb9)] = BuildSendMessageService;